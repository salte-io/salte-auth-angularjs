/**
 * @salte-io/salte-auth-angularjs JavaScript Library v2.1.2
 *
 * @license MIT (https://github.com/salte-io/salte-auth-angularjs/blob/master/LICENSE)
 *
 * Made with â™¥ by Dave Woodward <dave@salte.io>, Ceci <nick@salte.io
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("angular"),require("@salte-auth/salte-auth")):"function"==typeof define&&define.amd?define("salte-auth-angularjs",["angular","@salte-auth/salte-auth"],e):"object"==typeof exports?exports["salte-auth-angularjs"]=e(require("angular"),require("@salte-auth/salte-auth")):t["salte-auth-angularjs"]=e(t.angular,t["salte.auth"])}(window,function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var u=e[r]={i:r,l:!1,exports:{}};return t[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var u in t)n.d(r,u,function(e){return t[e]}.bind(null,u));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";n.r(e);var r=n(2),u=n.n(r),o=n(3),i=n(5);(t=u.a.module("salte.auth",[o.default])).provider("SalteAuthService",i.default),t.run(["SalteAuthService",function(t){window.addEventListener("storage",t.$$onStorageChanged),t.$$registerRoutes(),t.$$registerEvents()}]),e.default=t.name},function(e,n){e.exports=t},function(t,e,n){"use strict";n.r(e);var r=n(2),u=n.n(r),o=n(4);(t=u.a.module("salte.auth.routes",[])).service("SalteAuthRoutesService",o.default),e.default=t.name},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e),n.d(e,"default",function(){return u});var u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$injector=e,this.$location=n}var e,n,u;return e=t,(n=[{key:"uirouter",get:function(){var t=[];if(this.$injector.has("$state"))for(var e=this.$injector.get("$state"),n=e.get(),r=0;r<n.length;r++){var u=n[r];if(u.secured){var o=e.href(u.name,{},{absolute:!0});t.push(o)}}return t}},{key:"ngroute",get:function(){var t=this,e=this.$location.absUrl(),n=[];if(this.$injector.has("$route")){var r=this.$injector.get("$route");Object.keys(r.routes).forEach(function(e){r.routes[e].secured&&(t.$location.path(e),n.push(t.$location.absUrl()))})}return this.$location.absUrl(e),n}}])&&r(e.prototype,n),u&&r(e,u),t}();u.$inject=["$injector","$location"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var r=n(6);function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}var a=function(){function t(){u(this,t)}return i(t,[{key:"setup",value:function(t){return new r.SalteAuth(t)}},{key:"$get",value:function(t,e,n){return function(){function e(){u(this,e)}return i(e,null,[{key:"digest",value:function(e){return e.then(function(e){return t.$digest(),e}).catch(function(e){throw t.$digest(),e})}},{key:"on",value:function(t,e){this.$listeners[t]||(this.$listeners[t]=[]),this.$listeners[t].push(e)}},{key:"off",value:function(t,e){var n=this.$listeners[t].indexOf(e);this.$listeners[t].splice(n,1)}},{key:"loginWithRedirect",value:function(){var t;return(t=this.$auth).loginWithRedirect.apply(t,arguments)}},{key:"loginWithIframe",value:function(){var t;return(t=this.$auth).loginWithIframe.apply(t,arguments)}},{key:"loginWithPopup",value:function(){var t;return(t=this.$auth).loginWithPopup.apply(t,arguments)}},{key:"logoutWithRedirect",value:function(){var t;return(t=this.$auth).logoutWithRedirect.apply(t,arguments)}},{key:"logoutWithIframe",value:function(){var t;return(t=this.$auth).logoutWithIframe.apply(t,arguments)}},{key:"logoutWithPopup",value:function(){var t;return(t=this.$auth).logoutWithPopup.apply(t,arguments)}},{key:"retrieveAccessToken",value:function(){return this.$auth.retrieveAccessToken()}},{key:"$$onStorageChanged",value:function(e){e.storageArea.length&&-1===e.key.indexOf("salte.auth")||t.$digest()}},{key:"$$registerRoutes",value:function(){-1===[!1,!0].indexOf(this.$auth.$config.routes)&&(this.$auth.$config.routes=this.$auth.$config.routes||[],this.$auth.$config.routes=this.$auth.$config.routes.concat(n.uirouter),this.$auth.$config.routes=this.$auth.$config.routes.concat(n.ngroute))}},{key:"$$registerEvents",value:function(){for(var e=this,n=["login","logout","refresh"],r=function(r){var u=n[r];e.$auth.on(u,function(n,r){var o=e.$listeners[u];if(o)for(var i=0;i<o.length;i++)o[i](n,r);t.$digest()})},u=0;u<n.length;u++)r(u)}},{key:"profile",get:function(){return this.$auth.profile}},{key:"$auth",get:function(){return window.salte&&window.salte.auth?window.salte.auth:null}},{key:"$listeners",get:function(){return this.$$listeners||(this.$$listeners={}),this.$$listeners}}]),e}()}}]),t}();a.prototype.$get.$inject=["$rootScope","$q","SalteAuthRoutesService"]},function(t,n){t.exports=e}])});
//# sourceMappingURL=salte-auth-angularjs.min.js.map